{% extends 'vendor/master.html' %}
{% load static %}
{% block content %}
<script src="https://cdn.ckeditor.com/ckeditor5/25.0.0/classic/ckeditor.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<div class="content-page">
    <div class="content">

        <!-- Start Content-->
        <form class="container-fluid" method="post" action="{% url 'VendorInfoUpdateView' %}" enctype="multipart/form-data">
            {% csrf_token %}
            <!-- start page title -->
            <div class="row">
                <div class="col-12">
                    <div class="page-title-box">
                        <div class="page-title-right">
                            <ol class="breadcrumb m-0">
                                <li class="breadcrumb-item active">Vendor Profile Update</li>
                            </ol>
                        </div>
                        <h4 class="page-title">Vendor Profile Update</h4>
                    </div>
                </div>
            </div>
            <!-- end page title -->
            <div class="row">
                <div class="col-lg-6">
                    <div class="card-box">
                        <h5 class="text-uppercase bg-light p-2 mt-0 mb-3">General</h5>

                        <div class="form-group mb-3">
                            <label for="product-code">Vendor Business ID <span class="text-danger">*</span></label>
                            <input type="text" class="form-control" value="{{ vendor_info.vendor_business_id }}" readonly required>
                        </div>

                        <div class="form-group mb-3">
                            <label for="product-code">VAT ID <span class="text-danger">*</span></label>
                            <input type="text" class="form-control" value="{{ vendor_info.vat_id }}" readonly required>
                        </div>

                        <div class="form-group mb-3">
                            <label for="product-name">Vendor Name <span class="text-danger">*</span></label>
                            <input type="text" name="name" id="name" value="{{ vendor_info.name }}"
                                class="form-control" placeholder="e.g : Brown Sugar" required>
                        </div>
                        <div class="form-group mb-3">
                            <label for="product-price">Company Name <span class="text-danger">*</span></label>
                            <input type="text" class="form-control" id="" name="company_name"
                                value='{{ vendor_info.company_name }}' id="company_name" placeholder="Company Name">
                        </div>
                        <div class="form-group mb-3">
                            <label for="product-price">Company Owner Name </label>
                            <input type="text" class="form-control" value="{{ vendor_info.company_owner_name }}"
                                name="company_owner_name" id="company_owner_name" placeholder="Company Owner Name">
                        </div>
                        <div class="form-group mb-3">
                            <label for="product-price">Estublish </label>
                            <input type="text" class="form-control" value="{{ vendor_info.year_of_establishment }}"
                                name="year_of_establishment" id="year_of_establishment" placeholder="Established Year">
                        </div>

                        <div class="form-group mb-3">
                            <label for="product-stock">Type of Business <span class="text-danger">*</span></label>
                            <input type="text" class="form-control" name="type_of_business" value="{{ vendor_info.type_of_business }}"
                                id="type_of_business" placeholder="Contact Person" readonly>
                        </div>

                        <div class="form-group mb-3">
                            <label for="product-stock">Contact Person <span class="text-danger">*</span></label>
                            <input type="text" class="form-control" name="contact_person"
                                value="{{ vendor_info.contact_person }}" id="contact_person" placeholder="Contact Person">
                        </div>

                        <div class="form-group mb-3">
                            <label for="product-stock">Email <span class="text-danger">*</span></label>
                            <input type="email" class="form-control" name="email" value="{{ vendor_info.email }}"
                                id="email" placeholder="example@gmail.com" readonly>
                        </div>

                        <div class="form-group mb-3">
                            <label for="product-stock">Mobile no <span class="text-danger">*</span></label>
                            <input type="number" class="form-control" name="mobile" value="{{ vendor_info.mobile }}"
                                id="mobile" placeholder="e.g: 01234567890">
                        </div>

                        <div class="form-group mb-3">
                            <label for="product-stock">Telephone no <span class="text-danger">*</span></label>
                            <input type="number" class="form-control" name="telephone" value="{{ vendor_info.telephone }}"
                                id="telephone" placeholder="Contact Person">
                        </div>

                        <div class="form-group mb-3">
                            <label for="product-stock">Address <span class="text-danger">*</span></label>
                            <textarea required style="height: 200px !important;" id="editor" rows="10" placeholder="Please enter your address"
                                id="address" name="address" class="form-control">{{ vendor_info.address }}</textarea><br>
                        </div>

                    </div>
                    <!-- end card-box -->
                </div> <!-- end col -->
                <div class="col-lg-6">
                    <div class="card-box">
                        <h5 class="text-uppercase mt-0 mb-3 bg-light p-2">Banking Information
                        </h5>
                        <div class="card-box">
                            <div class="form-group mb-3">
                                <label for="product-price">Bank Name </label>
                                <input type="text" class="form-control" value="{{ vendor_info.bank_name }}"
                                    name="bank_name" id="bank_name" placeholder="Bank Name">
                            </div>
                            <div class="form-group mb-3">
                                <label for="product-price">Account No </label>
                                <input type="text" class="form-control" value="{{ vendor_info.account_number }}"
                                    name="account_number" id="account_number" placeholder="Account No">
                            </div>
                            <div class="form-group mb-3">
                                <label for="product-price">Account Name </label>
                                <input type="text" class="form-control" value="{{ vendor_info.account_name }}"
                                    name="account_name" id="account_name" placeholder="Account Name">
                            </div>
                            <div class="form-group mb-3">
                                <label for="product-price">Account Holder Name </label>
                                <input type="text" class="form-control" value="{{ vendor_info.account_holder_name }}"
                                    name="account_holder_name" id="account_holder_name" placeholder="Account Holder Name">
                            </div>
                            <div class="form-group mb-3">
                                <label for="product-price">Account No </label>
                                <input type="text" class="form-control" value="{{ vendor_info.branch_name }}"
                                    name="branch_name" id="branch_name" placeholder="Account No">
                            </div>
                            <div class="form-group mb-3">
                                <label for="product-price">Account Type </label>
                                <input type="text" class="form-control" value="{{ vendor_info.type_of_account }}" name="type_of_account"
                                    id="type_of_account" placeholder="Account Type">
                            </div>
                            <div class="form-group mb-3">
                                <label for="product-price">Branch Address</label>
                                <textarea required style="height: 200px !important;" id="editor-2" rows="10" placeholder="Please enter branch address"
                                    id="branch_address" name="branch_address" class="form-control">{{ vendor_info.branch_address }}</textarea>
                            </div>
                            <div class="form-group mb-3">
                                <label for="product-price">Routing No </label>
                                <input type="text" class="form-control" value="{{ vendor_info.routing_no }}"
                                    name="routing_no" id="routing_no" placeholder="Routing No">
                            </div>
                        </div>

                    <div class="card-box">
                        <h5 class="text-uppercase mt-0 mb-3 bg-light p-2">Vendor Images</h5>
                        
                        <div class="fallback pb-lg-3">
                            <div class="row">
                                <div class="col-md-5">
                                    {% if vendor_info.banner_image %}
                                    <label>Banner </label>
                                    <img style="max-width:100%" src="{{ vendor_info.banner_image.url }}" alt="Banner">
                                    {% endif %}
                                </div>
                                <!-- <div class="col-md-7">
                                    <label for="image1">Banner Image<span class="text-danger">*</span></label>
                                    <input class="form-control" id="banner_image" name="banner_image" type="file" multiple="">
                                </div> -->
                            </div>
                        </div>
                        
                        
                        <div class="fallback pb-lg-3">
                            <div class="row">
                                <div class="col-md-5">
                                    {% if vendor_info.optional_banner_image %}
                                    <label>Banner - 2 </label>
                                    <img style="max-width:100%" src="{{ vendor_info.optional_banner_image.url }}" alt="Banner">
                                    {% endif %}
                                </div>
                                <!-- <div class="col-md-7">
                                    <label for="image1">Optional Banner Image</label>
                                    <input class="form-control" id="optional_banner_image" name="optional_banner_image" type="file" multiple="">
                                </div> -->
                            </div>
                        </div>
                        
                        
                        <div class="fallback pb-lg-3">
                            <div class="row">
                                <div class="col-md-5">
                                    {% if vendor_info.profile_image %}
                                    <label>Profile </label>
                                    <img style="max-width:100%" src="{{ vendor_info.profile_image.url }}" alt="Banner">
                                    {% endif %}
                                </div>
                                <!-- <div class="col-md-7">
                                    <label for="image1">Profile Image</label>
                                    <input class="form-control" id="profile_image" name="profile_image" type="file" multiple="">
                                </div> -->
                            </div>
                        </div>
                    </div>
                </div> <!-- end col-->
            </div>
            <!-- end row -->
            <style>
                .ck-editor__editable {
                    height: 400px !important;
                }
            </style>
            <script>
                ClassicEditor
                    .create(document.querySelector('#editor'))
                    .catch(error => {
                        console.error(error);
                    });
                ClassicEditor
                    .create(document.querySelector('#editor-2'))
                    .catch(error => {
                        console.error(error);
                    });
            </script>

            <div class="row container">
                <div class="col-12 ml-5">
                    <div class="text-center ml-5 mb-3">
                        <button type="button" onclick="location.href='/vendor/'" class="btn w-sm btn-light waves-effect">Cancel</button>
                        <button type="submit" class="btn w-sm btn-success waves-effect waves-light">Save</button>
                    </div>
                </div> <!-- end col -->
            </div>
            <!-- end row -->
            <!-- file preview template -->
            <div class="d-none" id="uploadPreviewTemplate">
                <div class="card mt-1 mb-0 shadow-none border">
                    <div class="p-2">
                        <div class="row align-items-center">
                            <div class="col-auto">
                                <img data-dz-thumbnail src="#" class="avatar-sm rounded bg-light" alt="">
                            </div>
                            <div class="col pl-0">
                                <a href="javascript:void(0);" class="text-muted font-weight-bold" data-dz-name></a>
                                <p class="mb-0" data-dz-size></p>
                            </div>
                            <div class="col-auto">
                                <!-- Button -->
                                <a href="#" class="btn btn-link btn-lg text-muted" data-dz-remove>
                                    <i class="dripicons-cross"></i>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </form>
    </div> <!-- container -->

</div> <!-- content -->
</div>


<script>
    $(document).ready(function () {
        $("#product-sub-category").on('change', function () {
            var s_id = $('#product-sub-category').val();
            $('#product-mini-category').empty()
            $.ajax({
                url: '/api/v1/vendor/vendor-list/',
                type: 'get',
                success: function (data) {
                    try {
                        console.log(data);
                        // var element = '';
                        // var i = 0;
                        // for (i = 0; i < data.length; i++) {
                        //     element += `
						// 														<tr>
                        //                 <td class="border-top-0">${data[i]['id']}</td>
                        //                 <td class="border-top-0">${data[i]['brand_name']}</td>
                        //                 <td class="border-top-0">${data[i]['type']}</td>
                        //                 <td class="border-top-0">${data[i]['description']}</td>
		                //                     <td>
	                    //                     <a href="javascript:void(0);" class="action-icon  edit-btn" name="${data[i]['id']}" style="font-size: 22px; padding-right: 15px"> <i class="far fa-edit"></i></a>
	                    //                     <a href="javascript:void(0);" class="action-icon delete-btn" name="${data[i]['id']}"> <i class="fas fa-trash"></i></a>
                        //                 </td>
                        //             `

                        // }
                        // var table_body = $('#supplier_tbl').find("tbody");
                        // table_body.append(element);
                    } catch (e) {

                    }


                },
                error: function (data) {
                    console.log("error");
                    console.log(data);
                },
            });
        })
    })
</script>

{% endblock content %}